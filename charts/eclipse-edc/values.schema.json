{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Eclipse EDC Helm Chart Values",
  "type": "object",
  "properties": {
    "nameOverride": {
      "type": "string",
      "description": "Override the chart name"
    },
    "fullnameOverride": {
      "type": "string",
      "description": "Override the full release name"
    },
    "imagePullSecrets": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        }
      },
      "description": "Image pull secrets for private registries"
    },
    "controlPlane": {
      "type": "object",
      "description": "Control Plane configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable Control Plane deployment"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string",
              "description": "Control Plane image repository"
            },
            "tag": {
              "type": "string",
              "description": "Control Plane image tag (defaults to appVersion)"
            },
            "pullPolicy": {
              "type": "string",
              "enum": ["Always", "IfNotPresent", "Never"],
              "description": "Image pull policy"
            }
          }
        },
        "replicaCount": {
          "type": "integer",
          "minimum": 1,
          "description": "Number of Control Plane replicas"
        },
        "ports": {
          "type": "object",
          "properties": {
            "management": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "Management API port"
            },
            "protocol": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "Protocol (DSP) port"
            },
            "default": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "Default API port"
            }
          }
        },
        "resources": {
          "type": "object",
          "description": "Resource requests and limits"
        },
        "nodeSelector": {
          "type": "object",
          "description": "Node selector for pod assignment"
        },
        "tolerations": {
          "type": "array",
          "description": "Tolerations for pod assignment"
        },
        "affinity": {
          "type": "object",
          "description": "Affinity rules for pod assignment"
        },
        "podAnnotations": {
          "type": "object",
          "description": "Annotations to add to pods"
        },
        "podLabels": {
          "type": "object",
          "description": "Labels to add to pods"
        },
        "serviceAccount": {
          "type": "object",
          "properties": {
            "create": {
              "type": "boolean",
              "description": "Create a service account"
            },
            "annotations": {
              "type": "object",
              "description": "Service account annotations"
            },
            "name": {
              "type": "string",
              "description": "Service account name"
            }
          }
        },
        "service": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["ClusterIP", "NodePort", "LoadBalancer"],
              "description": "Service type"
            },
            "annotations": {
              "type": "object",
              "description": "Service annotations"
            }
          }
        },
        "config": {
          "type": "object",
          "description": "EDC Control Plane configuration properties",
          "properties": {
            "participantId": {
              "type": "string",
              "description": "Participant ID for this connector"
            }
          }
        }
      }
    },
    "dataPlane": {
      "type": "object",
      "description": "Data Plane configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable Data Plane deployment"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string",
              "description": "Data Plane image repository"
            },
            "tag": {
              "type": "string",
              "description": "Data Plane image tag (defaults to appVersion)"
            },
            "pullPolicy": {
              "type": "string",
              "enum": ["Always", "IfNotPresent", "Never"],
              "description": "Image pull policy"
            }
          }
        },
        "replicaCount": {
          "type": "integer",
          "minimum": 1,
          "description": "Number of Data Plane replicas"
        },
        "ports": {
          "type": "object",
          "properties": {
            "public": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "Public API port"
            },
            "control": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "Control API port"
            }
          }
        },
        "resources": {
          "type": "object",
          "description": "Resource requests and limits"
        },
        "nodeSelector": {
          "type": "object",
          "description": "Node selector for pod assignment"
        },
        "tolerations": {
          "type": "array",
          "description": "Tolerations for pod assignment"
        },
        "affinity": {
          "type": "object",
          "description": "Affinity rules for pod assignment"
        },
        "podAnnotations": {
          "type": "object",
          "description": "Annotations to add to pods"
        },
        "podLabels": {
          "type": "object",
          "description": "Labels to add to pods"
        },
        "serviceAccount": {
          "type": "object",
          "properties": {
            "create": {
              "type": "boolean",
              "description": "Create a service account"
            },
            "annotations": {
              "type": "object",
              "description": "Service account annotations"
            },
            "name": {
              "type": "string",
              "description": "Service account name"
            }
          }
        },
        "service": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["ClusterIP", "NodePort", "LoadBalancer"],
              "description": "Service type"
            },
            "annotations": {
              "type": "object",
              "description": "Service annotations"
            }
          }
        },
        "config": {
          "type": "object",
          "description": "EDC Data Plane configuration properties"
        }
      }
    },
    "podSecurityContext": {
      "type": "object",
      "description": "Pod security context applied to all pods"
    },
    "securityContext": {
      "type": "object",
      "description": "Container security context applied to all containers"
    },
    "postgresql": {
      "type": "object",
      "description": "PostgreSQL configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable PostgreSQL subchart deployment"
        },
        "external": {
          "type": "object",
          "description": "External PostgreSQL configuration",
          "properties": {
            "host": {
              "type": "string",
              "description": "External PostgreSQL host"
            },
            "port": {
              "type": "integer",
              "minimum": 1,
              "maximum": 65535,
              "description": "External PostgreSQL port"
            },
            "database": {
              "type": "string",
              "description": "Database name"
            },
            "existingSecret": {
              "type": "string",
              "description": "Existing secret name containing PostgreSQL credentials"
            },
            "existingSecretPasswordKey": {
              "type": "string",
              "description": "Key in existing secret for password"
            },
            "existingSecretUsernameKey": {
              "type": "string",
              "description": "Key in existing secret for username"
            }
          }
        },
        "auth": {
          "type": "object",
          "description": "PostgreSQL subchart auth configuration"
        },
        "primary": {
          "type": "object",
          "description": "PostgreSQL subchart primary configuration"
        }
      }
    }
  }
}
