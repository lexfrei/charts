# Default values for eclipse-edc.
# Unified connector (Control Plane + Data Plane in one)

# -- Override the chart name
nameOverride: ""
# -- Override the full release name
fullnameOverride: ""

# -- Image pull secrets for private registries
imagePullSecrets: []

# -- Connector configuration
connector:
  # -- Number of connector replicas
  replicaCount: 1

  image:
    # -- Connector image repository
    repository: ghcr.io/lexfrei/edc-connector
    # -- Image pull policy
    pullPolicy: IfNotPresent
    # -- Connector image tag (defaults to appVersion)
    tag: ""

  # -- Connector ports
  ports:
    # -- Default API port
    default: 8181
    # -- Management API port
    management: 8182
    # -- Protocol (DSP) port for connector-to-connector communication
    protocol: 8183
    # -- Public API port for data transfer
    public: 8184
    # -- Control API port
    control: 8185

  # -- EDC configuration
  config:
    # -- Participant ID for this connector (REQUIRED)
    participantId: ""
    # -- Public hostname for DSP callback (REQUIRED for external access)
    # Example: edc.example.com
    hostname: ""
    # -- Token signer private key alias in vault
    tokenSignerPrivateKeyAlias: "private-key"
    # -- Token verifier public key alias in vault
    tokenVerifierPublicKeyAlias: "public-key"

  # -- Additional environment variables
  env: []
  # - name: CUSTOM_VAR
  #   value: "value"

  # -- Resource requests and limits
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

  # -- Node selector for pod assignment
  nodeSelector: {}

  # -- Tolerations for pod assignment
  tolerations: []

  # -- Affinity rules for pod assignment
  affinity: {}

  # -- Annotations to add to pods
  podAnnotations: {}

  # -- Labels to add to pods
  podLabels: {}

  serviceAccount:
    # -- Create a service account
    create: true
    # -- Service account annotations
    annotations: {}
    # -- Service account name (generated if not set)
    name: ""

  service:
    # -- Service type
    type: ClusterIP
    # -- Service annotations
    annotations: {}

# -- Pod security context
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 65532
  seccompProfile:
    type: RuntimeDefault

# -- Container security context
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

# -- Ingress configuration
ingress:
  # -- Enable ingress
  enabled: false
  # -- Ingress class name
  className: ""
  # -- Ingress annotations
  annotations: {}
  # -- Ingress hosts configuration
  hosts: []
  # - host: edc.example.com
  #   paths:
  #     - path: /protocol
  #       pathType: Prefix
  #       port: protocol
  #     - path: /public
  #       pathType: Prefix
  #       port: public
  #     - path: /management
  #       pathType: Prefix
  #       port: management
  # -- Ingress TLS configuration
  tls: []
  # - secretName: edc-tls
  #   hosts:
  #     - edc.example.com
